window.addEventListener("load",function(){var f=new ActivityStoreModel;f.addListener(View.updateTable);View.initialGraphRender();for(var g=0,h=0,k=0,B=["This is very energetic !","This is energetic !","This is a bit exhuasted.","This is exhausted !","This is very exhausted !"],C=["This is very relaxed !","This is relaxed !","This is a bit stressed.","This is stressed !","This is very stressed !"],D=["This is very happy !","This is happy !","This is a bit depressed.","This is depressed !","This is very depressed !"],
c=["label label-success","label label-info","label label-primary","label label-warning","label label-danger"],v=document.querySelector("#activity .input"),e=document.querySelector("#time .input"),l=document.querySelector("#energy .label"),m=document.querySelector("#stress .label"),n=document.querySelector("#happiness .label"),w=document.querySelectorAll("#energy .btn"),E=document.querySelectorAll("#stress .btn"),F=document.querySelectorAll("#happiness .btn"),d=document.querySelector("#navigator .activities"),
p=document.querySelector("#navigator .datas"),q=document.querySelector("#datas .tableBtn"),r=document.querySelector("#datas .scatterBtn"),x=document.getElementById("table"),y=document.getElementById("graph_contain"),z=document.querySelector("#time .mins"),t=document.getElementById("submit"),G=/^(\s+)?\d+(?:\.\d+)?(\s+)?$/,H=/^\s*$/,A=document.getElementById("warning"),b=[0,0,0,0],u=0;u<w.length;u++)(function(a){w[a].addEventListener("click",function(){l.innerHTML=B[a];l.setAttribute("class",c[a]);
g=5-a;b[0]=1});E[a].addEventListener("click",function(){m.innerHTML=C[a];m.setAttribute("class",c[a]);k=5-a;b[1]=1});F[a].addEventListener("click",function(){n.innerHTML=D[a];n.setAttribute("class",c[a]);h=5-a;b[2]=1})})(u);e.addEventListener("keyup",function(){var a=e.value;G.test(a)||H.test(a)?(z.innerHTML="minutes",b[3]=1):(z.innerHTML='<span class="label label-danger"><span class="glyphicon glyphicon-remove"></span> input not valid</span>',b[3]=0)});p.addEventListener("click",function(){View.switchToAnalysis(p,
d,t)});d.addEventListener("click",function(){View.switchToActivity(p,d,t)});q.addEventListener("click",function(){View.switchToTableView(q,r,x,y)});r.addEventListener("click",function(){View.switchToScatterView(q,r,x,y)});t.addEventListener("click",function(){var a=v.value,c=[g,h,k],d=parseFloat(e.value);b[0]&&b[1]&&b[2]&&b[3]&&a?(b=[0,0,0,0],a=new ActivityData(a,c,d),View.resetActivities(v,e,l,m,n),f.addActivityDataPoint(a),View.updateGraph(f.getActivityDataPoints()),g=h=k=0,A.className="hide"):
A.className=""})});